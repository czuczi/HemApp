<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui" >
    <h:head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta content='text/html; charset=UTF-8' http-equiv="Content-Type"/>
        <title>Career Map</title>
    </h:head>
    <body onload="#{LoginController.pageRightChecker()}" style="background-color: darkgray; font-size: 0.8em">
        <h:form>
            <p:idleMonitor timeout="#{LoginController.timeOut}" onactive="">
                <p:ajax event="idle" listener="#{LoginController.invalidateSession()}"/>
            </p:idleMonitor>
        </h:form>
        <p:growl id="message" life="4000" showDetail="true" />
        <h:form id="page">
            <p:menubar>
                <p:submenu label="Handle managements" icon="ui-icon-wrench">
                    <p:menuitem value="Department" url="handleDepartment.xhtml" />
                    <p:menuitem value="SDU" url="handleSdu.xhtml" />
                    <p:menuitem value="Team" url="handleTeam.xhtml" />
                </p:submenu>
                <p:submenu label="Handle skills" icon="ui-icon-wrench">
                    <p:menuitem value="Hardskills" url="handlehardskill.xhtml"/>
                    <p:menuitem value="Softskills" url="softSkill.xhtml" />
                    <p:menuitem value="Certifications" url="certification.xhtml" />
                    <p:menuitem value="Languages" url="language.xhtml" />
                </p:submenu>
                <p:menuitem value="Job titles" url="jobTitle.xhtml" icon="ui-icon-wrench" />
                <p:menuitem value="Positions" url="position.xhtml" icon="ui-icon-wrench"/>
                <p:menuitem value="Handle admins" url="handleAdmin.xhtml" icon="ui-icon-wrench"/>
                <p:menuitem value="Change password" url="changePassword.xhtml" icon="ui-icon-wrench"/>
                <p:menuitem value="Settings" url="settings.xhtml" icon="ui-icon-wrench"/>
                <p:menuitem value="Quit" icon="ui-icon-power" action="#{AdminController.logout()}"/>
            </p:menubar>
            <br/>
        </h:form>
        <h:form id="passwordForm">
            <p:panel header="Password" style="width: 500px">
                <p:panelGrid columns="2">
                    <p:outputLabel value="Username: " />
                    <p:inputText value="#{AdminController.felhNevForChange}" required="true" requiredMessage="Please give the username!" />
                    <p:outputLabel value="Old password: " />
                    <p:password id="old_Password" value="#{AdminController.oldPassword}" required="true" label="Password" widgetVar="pwdoldvar" requiredMessage="Please give the old password!"/>
                    <p:outputLabel value="New password: " />
                    <p:password id="Password" value="#{AdminController.newPassword}" required="true" match="Password_again" label="Password" widgetVar="pwd1var" requiredMessage="Please give the new password!"/>
                    <p:outputLabel value="New password again: " />
                    <p:password id="Password_again" required="true" label="Password again" widgetVar="pwd2var" requiredMessage="Please give the new password again!"/>
                </p:panelGrid>
                <center>
                    <p:commandButton value="Save" actionListener="#{AdminController.changePassword()}" ajax="true" update=":message" />
                </center>
            </p:panel>
        </h:form>
    </body>
</html>